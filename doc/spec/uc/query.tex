% ==============================================================================
%  $RCSfile: query.tex,v $, $Revision: 1.19 $
%  $Date: 2003-04-21 01:13:31 $
%  $Author: schwiemn $
%
%  Description: UseCases für die Anfragen
%
%  Last-Ispelled-Revision: 1.7
%
% ==============================================================================

% ==============================================================================
\begin{uc}[Anfrage ausführen]{UC: Neues Skript ausführen}
\index{Skript!ausführen}
Mit diesem UseCase kann ein Skript über den Skriptdialog
(siehe \ref{GUI Anfragedialog}) eingegeben werden.
Die Möglichkeiten der GSL sind im Detail in Kapitel
\ref {GIANT Scripting Language} beschrieben.


  \begin{precond}
    \cond Ein Projekt ist geladen.
  \end{precond}

  \begin{postsuccess}
    \cond Das Skript wurde ausgeführt. Alle Ergebnisse liegen vor.
      
  \end{postsuccess}

  \begin{postfail}
    \cond Wurde der UseCase vor Beginn der Berechnung des Skriptes
          abgebrochen, bleibt das System im bisherigen Zustand.

    \cond Wurde der UseCase während der Ausführung des Skriptes 
          abgebrochen, so werden bereits ausgeführte Aktionen
          (wie z.B. das Einfügen neuer Fenster-Knoten in Anzeigefenster)
          nicht wieder rückgängig gemacht.

  \end{postfail}
  
  \begin{proc}    
    \step[1]
    Der Benutzer startet den UseCase durch Auswahl des Eintrags 
    \gq{Execute GSL Script} im Menü Tools
    (siehe \ref{Main-Window-Tools}).
      
    \step[2] 
    GIANT öffnet den Skriptdialog (siehe \ref{GUI Anfragedialog}).
      
    \step[3]
    Der Benutzer gibt dort im dafür vorgesehenen Textfeld das GSL Skript
    (siehe auch Kapitel \ref{GIANT Scripting Language}) ein und 
    bestätigt mit \gq {OK}.

    \step[4]
    GIANT prüft das eingegebene GSL Skript. Sollte das Skript
    nicht den Vorgaben der Grammatik 
    (siehe Kapitel \ref{GIANT Scripting Language}) entsprechen, erscheint
    eine Fehlermeldung (siehe \ref{afa Fehlerverhalten})
    und das System kehrt zu Schritt 3 des UseCase zurück.
        
    \step[5]    
    GIANT führt das Skript aus und teilt dem Benutzer
    den Fortschritt mittels eines Progress-Dialogs 
    (siehe \ref{Progressbar-Modale}) mit.
    Während der Ausführung des Skripts ist das System mit Ausnahme des
    Progress-Dialogs gesperrt.\\
    
  
  \end{proc}

  \begin{aproc}
    \astep{3} Der Benutzer bricht mit Cancel ab.
    
    \astep{5} Die laufende Ausführung des Skripts kann vom Benutzer
    mit Cancel abgebrochen werden.

  \end{aproc}

\end{uc}


% ==============================================================================
\begin{uc}[UC Anfrage laden]{UC: Skript laden}
\index{Anfragen!aus Datei laden}
Der Benutzer kann zusätzlich zur manuellen Eingabe von GSL Skripten
(siehe \ref{Anfrage ausführen}) auch gespeicherte Skripte aus 
einer Datei (siehe \ref {Config Anfrage-Dateien}) laden.

  \begin{precond}
    \cond Ein Projekt ist geladen.
  \end{precond}

  \begin{postsuccess}
    \cond Das Skript wurde ausgeführt. Alle Ergebnisse liegen vor.
  \end{postsuccess}

  \begin{postfail}

     \cond Wurde der UseCase vor Beginn der Berechnung des Skriptes
          abgebrochen, bleibt das System im bisherigen Zustand.

    \cond Wurde der UseCase während der Ausführung des Skriptes 
          abgebrochen, so werden bereits ausgeführte Aktionen
          (wie z.B. das Einfügen neuer Fenster-Knoten in Anzeigefenster)
          nicht wieder rückgängig gemacht.

  \end{postfail}
  
  \begin{proc}    
    \step[1]
    Der Benutzer startet den UseCase durch Auswahl des Eintrags 
    \gq{Execute GSL Script} im Menü Tools
    (siehe \ref{Main-Window-Tools}).
      
    \step[2] 
    GIANT öffnet den Skriptdialog (siehe \ref{GUI Anfragedialog}).
      
    \step[3] 
    Der Benutzer betätigt im Dialog den Button \gq{Open...}.

    \step[4]
    Daraufhin zeigt GIANT den Standard-Filechooser-Dialog 
    (siehe \ref {Standard-Filechooser-Dialog}).
    
    \step[5] Der Benutzer wählt eine vorhandene
             Skript-Datei (siehe \ref {Config Anfrage-Dateien}) aus.
        
    \step[6]
    GIANT zeigt das aus der Datei geladene GSL Skript 
    (siehe Kapitel \ref {GIANT Scripting Language}) im Textfeld
    des Skriptdialogs an.

    \step[7]
    Falls gewünscht kann der Benutzer das GSL Skript im Textfeld
    noch manuell weiter modifizieren.
    
    \step[8]
    Der Benutzer startet die Berechnung des Skripts durch Betätigung
    des \gq{Start Query} im Skriptdialog (siehe \ref{GUI Anfragedialog}).

    \step[9]
    GIANT prüft das geladene und eventuell modifizierte GSL Skript. 
    Sollte das Skript nicht den Vorgaben der Grammatik 
    (siehe Kapitel \ref {GIANT Scripting Language}) entsprechen, erscheint
    eine Fehlermeldung (siehe \ref {afa Fehlerverhalten})
    und das System kehrt zu Schritt 7 des UseCase zurück.

    \step[10]    
    GIANT führt das Skript aus und teilt dem Benutzer
    den Fortschritt mittels eines Progress-Dialogs 
    (siehe \ref{Progressbar-Modale}) mit.
    Während der Ausführung des Skripts ist das System mit Ausnahme des
    Progress-Dialogs gesperrt.

  \end{proc}

  \begin{aproc}
    \astep{3} Der Benutzer bricht den UseCase mit Cancel ab.
    \astep{4} Der Benutzer bricht die Auswahl der Datei mit Cancel ab.
              Das System kehrt dann zu Schritt 2 bei der
              Abarbeitung des UseCase zurück.
    \astep{6} Der Benutzer bricht den UseCase mit Cancel ab.

    \astep{10} Die laufende Ausführung des Skripts kann vom Benutzer
    mit Cancel abgebrochen werden.
  \end{aproc}

\end{uc}

% ==============================================================================
\begin{uc}[Anfrage speichern]{UC: Skript speichern}
\index{Anfragen!in eine Datei speichern}
Mit diesem UseCase kann der Benutzer GSL Skripte aus dem 
Skriptdialog (siehe \ref{GUI Anfragedialog}) in Dateien 
(siehe \ref {Config Anfrage-Dateien}) speichern.

  \begin{precond}
    \cond Der Skriptdialog (siehe \ref{GUI Anfragedialog}) ist
          geöffnet und enthält in dem dafür vorgesehenen Textfeld
          entweder ein manuell eingegebenes oder ein aus einer
          Datei geladenes und eventuell modifiziertes GSL Skript.

  \end{precond}

  \begin{postsuccess}
    \cond Eine Datei, welche das GSL Skript enthält, wurde
          angelegt.
    \cond GIANT zeigt den Skriptdialog, das gespeicherte GSL Skript
          ist weiterhin in dem Textfeld vorhanden.
      
  \end{postsuccess}

  \begin{postfail}
    \cond Das System bleibt im bisherigen Zustand.
    \cond Es wurde keine Datei erzeugt
    \cond GIANT zeigt weiterhin den Skriptdialog an
          (siehe \ref{GUI Anfragedialog}) und alle dort getätigten
          Eingaben (insbesondere das GSL Skript im Textfeld des
          Dialoges) bleiben erhalten.
   
  \end{postfail}
  
  \begin{proc}    

    \step[1]
    Der Benutzer betätigt im Skriptdialog (siehe \ref{GUI Anfragedialog})
    den Button \gq{Save As...}.
    
    \step[2]
    GIANT prüft ob das GSL Skript im Textfeld des Skriptdialogs den
    Vorgaben der Grammatik (siehe Kapitel \ref {GIANT Scripting Language}) 
    entspricht. Falls nicht, erscheint eine Fehlermeldung 
    (siehe \ref {afa Fehlerverhalten})
    und das System kehrt zu Schritt 1 des UseCases zurück.

    \step[3]
    GIANT öffnet den Standard-Filechooser-Dialog (siehe 
    \ref {Standard-Filechooser-Dialog}).
  
    \step[4]
    Der Benutzer gibt den Pfad und die Datei, in der das GSL Skript
    gespeichert werden soll, vor und bestätigt mit OK.

    \step[5]
    GIANT speichert das GSL Skript in der vorgegebenen Datei.

  \end{proc}

  \begin{aproc}
    \astep{4} Der Benutzer bricht den UseCase mit Cancel ab.

  \end{aproc}

\end{uc}

