% ==============================================================================
%  $RCSfile: tutorial.tex,v $, $Revision: 1.5 $
%  $Date: 2003-09-23 19:33:38 $
%  $Author: birdy $
%
%  Description: Tutorial
%
%  Last-Ispelled-Revision:
%
% ==============================================================================

In diesem Tutorial gehen wir davon aus, daß sich das Programm GIANT
im Verzeichnis /projects/tmp/birdy/giant-1.1.0 befindet.

\section{Starten des Programms}
\index{Starten des Programms}

Das Programm wird mit:\\

°cd /projects/tmp/birdy/giant-1.1.0°\\
°./giant.sh°\\

gestartet.\\
Wir erstellen mittels
°mkdir /projects/tmp/birdy/giant-1.1.0/first_example°\\
gleich ein neues Verzeichnis für unser erstes Projekt.

\section{Erstellen eines neuen Projektes}

Nun erscheint das Hauptfenster. Im Menü °Project° ist zum Erstellen
eines neuen Projektes der Punkt °New° anzuwählen.

\begin{figure}[h!]
   \centering
   \includegraphics[scale=.75]{tutorial/01-a-main-project-menu}
   \caption{Main-Window}
\end{figure}

\clearpage


GIANT verlangt über den Dateiauswahl-Dialog nach Pfad und Namen
der neu zu erstellenden Projektdatei. Wir wählen hier\\
°/projects/tmp/birdy/giant-1.1.0/first_example/first_example°.\\
Dann fragt GIANT
durch einen Dateiauswahl-Dialog nach dem IML-Graphen, auf dem das
Projekt basieren soll. Wir wählen hier\\
°/projects/tmp/birdy/giant-1.1.0/graphs/rfg_examp.xml°.\\

GIANT meldet nun auf der Statuszeile links unten \gq{Project Initialized},
rechts unten steht der Name der IML-Datei, °rfg_examp.iml°.\\

\begin{figure}[h!]
   \centering
   \includegraphics[scale=.75]{tutorial/02-main-project-loaded}
   \caption{Main-Window Bild 2}
\end{figure}

\clearpage

\section{Öffnen eines Fensters}
\index{Öffnen eines Fensters}

Wir wollen nun ein erstes Graphenfenster öffnen. Das erledigen wir durch
Auswählen des Menüpunkts °Open Entire Graph° unter °Scripts°.\\

Nun erscheint ein Graphenfenster.

\begin{figure}[h!]
   \centering
   \includegraphics[scale=.5]{tutorial/03-entire-graph-window}
   \caption{Graphenfenster}
\end{figure}

\section{Zoomen}
\index{Zoomen}
Mittels der Zoomkontrolle (4) können wir die Ansicht im Fenster vergrößern
oder verkleinern. Dazu können die Buttons °+° und °-° verwendet werden,
mittels der Combobox voreingestellte werte gesetzt werden oder ein
Wunschwert per Tastatur eingetragen werden. Wir tragen °45.00° Prozent
ein (und drücken Return), um einen guten Überblick zu erhalten.\\
Wir wählen eine beliebige Kante mit der linken Maustaste an und
wählen °Zoom to Edge°, worauf GIANT so scrollt und zoomt, daß
diese Kante komplett auf dem Bildschirm sichtbar ist.
Wir tragen nun wieder 45% als Zoomwert ein und drücken Return.

\section{Scrollen im Fenster}
\index{Scrollen}

Nun wollen wir den sichtbaren Anzeigeinhalt verschieben. Dies geht
durch Verschieben des weißen Kästchens in der MiniMap (1) mit der Maus.
Wir verschieben das Kästchen ganz in die linke obere Ecke,
wo wir einige Knoten sehen können.\\

Selbstverständlich kann die Fenstergröße in der von anderen Programmen
gewohnten Weise verändert werden. Zusätzlich kann die Breite der linken
Hälfte des Fensters durch ziehen von Element (10) verändert werden.
Durch Betätigen der Scrollbars (6) und (7) kann wiederum der sichtbare
Anzeigeinhalt verschoben werden.

\section{Knoteninformation anzeigen}
\index{Knoteninformation anzeigen}

Wir suchen nun durch zoomen und scrollen den Knoten mit der Nummer 10,
welcher sich links Oben im Block der Knoten befindet (es kann auch ein
beliebiger anderer Knoten verwendet werden). Durch Klick
mit der rechten Maustaste auf den Knoten erscheint ein Popup-Menü, wir
wählen \gq{Show Info}. Es werden hier einige Informationen zum Knoten
angezeigt (Bild \ref{Node-Info Fenster}).
Durch Klicken von \gq{Pick} und Klick auf einen anderen Knoten kann
nunmehr die Information dieses anderen Knoten angezeigt werden.

\begin{figure}[h!]
   \centering
   \includegraphics[scale=.4]{tutorial/04-nodeinfo}
   \caption{Node-Info Fenster}
   \label{Node-Info Fenster}
\end{figure}

Wir schließen das Nodeinfo-Fenster wieder.

\section{Pin festlegen / ändern / löschen}
\index{Pins}

Wir wollen uns nun eine Ansicht des Graphen für ein späteres schnelles Wiederfinden
merken. Dazu scrollen und zoomen wir in eine für uns interessante Position (z.B.
auf Knoten 176 rechts oben im Graphen), klicken mit der rechten Maustaste auf
eine weiße Fläche in der Ansicht und wählen im Menü \gq{New Pin...} an.
Bei der Frage nach dem Namen des Pins geben wir als Namen z.B. °Kn-176° ein.
Wenn wir nun in eine andere Position scrollen und zoomen, können wir
durch Aktivieren von °Show° im Popup-Menü, welches bei Auswahl des Knotennamens
mit der Rechten Maustaste in der Pinliste (2) erscheint, wieder zu genau
dieser Ansicht zurückspringen.\\
Mit °Rename...° kann der Name des Knotens geändert werden. Wir ändern den
Knotennamen auf °Interessanter_Knoten°.
Falls wir den Knoten später einmal löschen wollen, geht dies mit °Delete°
im Kontextmenü.

\section{Visualisierungsstile ändern}
\index{Visualisierungsstile ändern}
Mittels der Visualisierungsstil-Auswahl (4) können wir die Art der Darstellung
der Knoten ändern. Probeweise ändern wir die Darstellung in der Combobox einmal
auf °Plain°. Wir können nun einmal im Graph herumzoomen und scrollen, um
die Unterschiede zu sehen.
Nun wechseln wir aber wieder zurück zum Default-Stil.

\section{Selektionen bearbeiten und markieren}
\index{Selektionen!bearbeiten und farbig markieren}

Wir springen nun zu unserem Pin °Interessanter Knoten°, und zoomen und
scrollen ggf. so, daß wir ca. 8 Knoten bei einer
Zoomstufe von 70 Prozent auf dem Bildschirm haben.\\

Nun klicken wir auf den Knoten Nr. 176 (rechts oben
in der Matrix) mit der linken Maustaste.\\

Der Knoten wird farbig markiert. Wir können sehen, daß in der Selektionsliste
(3) in der Zeile °Default° der angewählte Knoten auftaucht.
Wann immer wir mit der Maus Selektionen manipulieren, so bezieht sich
diese Änderung auf diejenige Selektion in der Liste, bei der in der
Spalte °Active° ein °Yes° steht, die aktive Selektion.\\

Mit gedrückter Shift-Taste wählen wir noch zwei andere Knoten aus.
Nun halten wir die Shift-Taste und ziehen mit gedrückter linker Maustaste
einen Rahmen über alle bis auf die unteren zwei Knoten.
Wenn wir loslassen, können wir feststellen, daß GIANT den momentanen
Status (Selektiert oder nicht) aller Knoten im Rahmen umgekehrt hat.\\

Wenn wir einen Rahmen ohne gedrückte Tasten ziehen, werden alle bisherigen
Knoten in der Default-Selektion entselektiert. Wir ziehen nun einen Rahmen
über die oberen beiden Knoten. Diesen wollen wir nun die unteren beiden
Knoten hizufügen. Dies geschieht durch Anklicken dieser beiden Knoten mit
gedrückter Shift-Taste. Alternativ könnte auch ein Rahmen mit gedrückter
Shift-Taste gezogen werden.\\

Nun ziehen wir einen Rahmen mit der Maus über alle Knoten im Fenster
bei gedrückter Ctrl-Taste. Wir können sehen, daß GIANT hier alle
Knoten im Rahmen markiert, im Gegensatz zur Umkehrung des Selektionsstatus
bei Verwendung der Shift-Taste.\\

Zu guter Letzt ziehen wir nochmals einen Rahmen ohne gedrückte Tasten über
die oberen vier Knoten.\\

Das Selektieren von Kanten funktioniert völlig analog zum Selektieren der
Knoten.\\

Durch den Rahmen haben wir nun eine gewisse Anzahl von Knoten und Kanten
in der Default-Selektion sichtbar in (3).
Wir duplizieren nun diese Auswahl durch Auswählen von °Duplicate° im Kontextmenü
nach Drücken der rechten Maustaste über °Default° in der Selektionsliste (3).
Als Namen wählen wir °Neu°.\\

Nun wollen wir die Selektion °Neu° farbig markieren. Wir wählen dazu in
(3) im Kontext-Menü dieser Selektion °Highlight - Color 1° an.
Wir können nun sehen, daß die Selektion farbig markiert wurde. (Siehe Bild \ref{Graphenfenster mit rot hervorgehobenem Graph})\\

Durch Auswählen von °Select All° oder °Select Nothing° bei Rechtsklick auf ein
Stück von Knoten oder Kanten leeren Hintergrund des Anzeigefensterinhaltes können
alle Knoten und Kanten markiert oder entmarkiert werden.\\

\begin{figure}[h!]
   \centering
   \includegraphics[scale=.5]{tutorial/05-selection-color}
   \caption{Graphenfenster mit rot hervorgehobenem Graph}
   \label{Graphenfenster mit rot hervorgehobenem Graph}
   \clearpage
\end{figure}

\index{Selektionen!anzoomen}
Wenn wir nun im Kontextmenü der Selektion °Zoom to Selection° auswählen,
zoomt und scrollt GIANT so in den Graph hinein, daß alle Knoten der
Selektion sichtbar sind.\\

Mit unserem neu erworbenen Wissen erstellen wir nun eine Selektion
mit der Vierergruppe Knoten unten rechts im Graphen und nennen
sie °vier°. Nun wählen wir im Kontextmenü dieser Selektion
°Delete° aus und wir sehen, daß die Knoten noch da sind, die Selektion
aber gelöscht wurde.
Nun erstellen wir nochmals eine Selektion mit dem Namen °neu2°,
wählen diesmal °Delete with Content° aus.
GIANT hat nun die Knoten nebst ihrer Kanten aus dem Graph gelöscht.\\

\index{Mengenoperation}

Nun zu einer Mengenoperation:
Auf der Selektion °Neu° in (3) wählen wir nun °Set Operation° aus.
Es erscheint der Set Operation Dialog. Wir wählen
(siehe Bild \ref{Set Operation Dialog für Mengenoperationen}) \\

°Left Source = Entire_Graph°\\
°Operation = Difference°\\
°Right Source = Neu°\\
°Target = Differenzmenge°\\
aus.

\begin{figure}[h!]
   \centering
   \includegraphics[scale=.5]{tutorial/06-set-operation}
   \caption{Set Operation Dialog für Mengenoperationen}
   \label{Set Operation Dialog für Mengenoperationen}
\end{figure}
\clearpage

Nun bildet GIANT die Differenz zwischen den beiden Mengen °Entire_Graph°
(also dem Gesamtgraphen) und der Menge °Neu°, die neue Menge heisst
°Differenzmenge°. Man kann sehen, wie sich die Kantenzahlen
unterscheiden.\\
Nun wählen wir auf °Differenzmenge° den Menüpunkt °Set Active° aus.
Diese Menge ist nun die aktive Selektion. 
Wir können nun sehen, daß alle Knoten im Graphen, die zur Menge
gehören, markiert sind. Mit gedrückter Shift-Taste können wir nun
z.B. Knoten zur Selektion hinzufügen oder aus ihr entfernen.

Nachdem wir einige Knoten ausgewählt haben, wählen wir wieder die
°Default° Selektion als Aktiv an.\\

Unsere Sekektion °Differenzmenge° mit ihren ausgewählten Knoten
fügen wir nun als eigenständigen Subgraphen in GIANT ein, dies
passiert durch Auswählen von °Insert as Subgraph° in ihrem
Kontextmenü. Wie wir sehen, erscheint sie nun im Hauptfenster
in der Subgraph-Liste.\\

\section {Verschieben von Knoten, Platz schaffen}
\index{Platz schaffen}

Wir können mit der linken Maustaste durch Drag and Drop Knoten
verschieben. Es kann vorkommen, daß Knoten aufeinander liegen,
sie können dann damit auseinandergeschoben werden.\\

Durch Klick mit der rechten Maustaste auf einen freien Platz im
Anzeigeinhalt des Graphenfensters können wir im Popup-Menü
°Make Room° anwählen. Durch diese Operation werden die
Knoten rund um den freien Platz auseinandergeschoben, je näher
desto weiter. Bild \ref{Make-Room-Result} zeigt das Ergebnis einer
solchen Operation.

\begin{figure}[h!]
   \centering
   \includegraphics[scale=.5]{tutorial/08-make-room}
   \caption{Resultat von Platz schaffen}
   \label{Make-Room-Result}
\end{figure}


\section{Mehrere Fenster}

Durch Auswählen von °Window - New° erschaffen wir ein neues leeres
Fenster. Dieses wird in der Fensterliste im Hauptfenster angezeigt.
Das Fenster heisstr °Unknown°, wir ändern seinen Namen durch
Anwählen von °Rename° auf im dazugehörigen Popup-Menü in der
Liste auf °Testfenster°.\\
Wir schließen nun unser eingangs erstelltes Fenster °Entire_Graph_Window°
durch Klick auf den Close-Button rechts oben und speichern es bei der
erscheinenden Sicherheitsabfrage.
Mittels °Open° in seinem Popup-Menü können wir es bei Bedarf wieder öffnen.\\

\begin{figure}[h!]
   \centering
   \includegraphics[scale=.5]{tutorial/07-main-window}
   \caption{Hauptfenster}
\end{figure}

\index{Teilgraphen!in Fenster einfügen}

Nun wollen wir unseren Teilgraphen in das neue Testfenster einfügen.
Dazu wählen wir im Hauptfenster auf dem erstellten Subgraphen im
Popup-Menü °Insert as Selection°. GIANT fordert uns auf, in den leeren
Anzeigeinhalt des Fensters zu klicken, dort wird der Subgraph als Selektion
eingefügt.\\

Wir öffnen nun wieder unser erstes Fenster °Entire_Graph_Window°durch
Auswählen von °Open° auf seinem Popup-Menü.\\

Wir wählen im Kontextmenü des Subgraphen im Hauptfenster aus\\
°Highlight - Color 2° und können sehen, daß unsere
Selektion in beiden Fenstern hervorgehoben wurde. Mittels
°Unhighlight in alle Windows° läßt sich die Markierung rückgängig
machen.\\

Wir schließen und speichern das °Testfenster°.

\section{Layouts}
\index{Layouts}

Mittels des oben erwähnten °Select All° entmarkieren wir alle Knoten in
unserem verbleibenden Fenster. Wir sorgen dafür, daß im Fenster ca.
die Hälfte des Anzeigeinhaltes frei ist.
Wir wählen durch Ziehen mit der Maus ca. 10-15 Knoten im linken
oberen Teil des Graphen aus und wählen
dann in der Selektionsauswahlliste auf der aktiven °Default° Selektion
°Apply Layout° aus.\\


Mittels °Matrix Layout° läßt sich der Inhalt des Fensters in
eine Matrixform bringen. Wir wählen diese Option im Tab aus
(siehe Bild \ref{Matrix-Layout}).

\begin{figure}[h!]
   \centering
   \includegraphics[scale=.6]{tutorial/09-matrix-layout}
   \caption{Apply Layout}
   \label{Matrix-Layout}
\end{figure}

Nach Klick auf °OK° klicken wir an eine leere Stelle im Anzeigefenster-
Inhalt, dies zeigt GIANT, wo die umorganisierten Knoten platziert
werden sollen.
Ein mögliches Resultat wird in Bild \ref{Matrix-Layout2} gezeigt.

\begin{figure}[h!]
   \centering
   \includegraphics[scale=.55]{tutorial/10-matrix-layout2}
   \caption{Ergebnis des Matrix-Layouts}
   \label{Matrix-Layout2}
\end{figure}


Wir wählen im Popup-Menü des Knoten rechts oben °Show Info°
aus und merken uns den oben im Fenster angezeigten numerischen Wert °ID°
des Knotens.

Nun wählen wir ca. 5 * 5 Knoten in der rechten oberen Ecke des Graphen
durch Ziehen mit der Maus aus, einer dieser Knoten sollte der mit der
bekannten ID sein. Vorher sollten wir dafür sorgen, daß
auch noch genügend freier Platz im Fenster sichtbar ist.\\



Wir wählen dann in der Selektionsauswahlliste auf der aktiven °Default°
Selektion °Apply Layout° aus. In das Feld °Root Node ID° tragen wir
die ID des Knotens ein.
In der Liste °Class Sets° wählen wir °parent_edge_class_set°, °empty_class_set°
und °normal_class_set° aus. Dies sind die Klassenmengen, die für das
Layout berücksichtigt werden. Nun ist noch ein Klick an die Position
des Wurzelknotens im Anzeigefenster nötig, und das Layout wird berechnet
und angezeigt.

\section{Benachbarte Knoten}

Mittels des Menüpunktes °Scripts - Get Adjacent Nodes° können die
benachbarten Knoten eines Knotens in eine Knotenmenge eingefügt werden.
Wir führen dies mit einem beliebigen Knoten aus und können dies
auch anhand der Knotenzahlen überprüfen.

\section{Annotieren}
\index{Annotieren}
Knoten können durch Klick auf °Annotate° im Knoteninformationsfenster
(siehe Bild \ref{Node-Info Fenster}) oder durch Auswahl des Punktes
°Annotate° im Knoten-Popup-Fenster annotiert werden.

Nach der Auswahl von °Annotate° öffnet sich das Knoten-Annotationsfenster
(siehe Bild \ref{Node Annotation Window}). Hier kann ein Kommentar zum
Knoten eingefügt werden, der mit gespeichert wird. Durch Delete
kann der Kommentar wieder gelöscht werden.\\
Annotationen werden nur dann auf Festplatte gespeichert, wenn wir im
Hauptmenü °Project - Save° oder °Project - Save As..° auswählen, nicht
jedoch, wenn nur einzelne Fenster gespeichert werden.

\begin{figure}[h!]
   \centering
   \includegraphics[scale=.55]{tutorial/11-annotation}
   \caption{Knoten-Annotationsfenster}
   \label{Node Annotation Window}
\end{figure}

Nach dem Annotieren wird der Benutzer bei genügend großer Zoomstufe
durch ein kleines \gq{Dokument}-Symbol auf die Annotation
aufmerksam gemacht. (siehe Bild \ref{Node Annotation Window2})

\begin{figure}[h!]
   \centering
   \includegraphics[scale=.55]{tutorial/12-annotation2}
   \caption{Annotierter Knoten Nr. 107}
   \label{Node Annotation Window2}
\end{figure}

\section{Fenster speichern}
\index{Fenster speichern}

Wir wollen nun alle unsere Änderungen im Fenster speichern. Dazu
wählen wir im Hauptfenster im Popup-Menü des Fensters °Save° aus,
das Fenster ist nun gespeichert und erscheint beim nächsten Laden
der Projektdatei auch in der Liste in genau dem Zustand
(Knotenpositionen etc.), in dem wir es gespeichert haben.
Lediglich Annotationen werden nicht gespeichert.

\section{HPG darstellen}

Durch Anwählen von °Scripts - Open HPG° im Menü des Hauptfensters
von GIANT können wir ein Graphenfenster mit dem hierarchischen Programmgraphen
öffnen.

\section{Einbinden der GSL in Menüpunkte}
\index{GSL!Einbinden in Menüpunkte und Kontextmenüs}

Zur Verknüpfung von GSL-Ausdrücken mit Menüpunkten in den
Popup-Menüs von Knoten bzw. Kanten oder dem Hauptmenü sind folgende
Schritte nötig:\\

Zuerst erstellen wir die GSL-Datei, welche ggf. den Knoten oder die
Kante als \gq{Parameter} übergeben bekommt, und speichern diese
im GIANT-Verzeichnis °shared/gsl° ab.\\

Nötig ist auch der Eintrag des Skriptes in der Config-Datei
°etc/global-config.xml° im GIANT-Verzeichnis, hierzu muß diese 
in einen °GSL.° Setting-Knoten eingetragen werden, nähere Informationen
können wir leicht dem mitgelieferten Config-File oder Abschnitt
\label{Config-GSL-Context-Scripts} entnehmen, Trennzeichen ist
der Doppelpunkt (°:°).\\
Der Eintrag im Menü muß dabei dem Filenamen entsprechen, ggf. ergeben
sich dadurch auch Leerzeichen im Filenamen.\\

Soll das Skript im Hauptmenü aufrufbar sein, so fügen wir seinen Namen in
Knoten °GSL.No_Param° ein. Für einen kontextabhängigen
Aufruf aus einem Fenster (im Popup-Menü auf dem leeren
Hintergrund des Fensters) ist °GSL.No_Param_Context° richtig,
und für Knoten- Kanten- Teilgraph- oder Selektionssensitive
Aufrufe sind °GSL.Node_Id_Param°, °GSL.Edge_Id_Param°, °GSL.Subgraph_Param°
oder °GSL.Selection_Param° zuständig.
